local ScriptVersion = "1.0"
local UrlKeyGithub = "https://raw.githubusercontent.com/Maplixx/B/refs/heads/main/key.txt"
local LinkKeyEncurtador = "https://fir3.net/KeyAmoledHub"
local LinkTikTok = "https://www.tiktok.com/@.rnyzx"
local LinkYoutube = "https://youtube.com/@s3venzzx"
local LinkInstagram = "https://www.instagram.com/yz.seven"

local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local guiName = "AmoledScreenSaverPro"

if CoreGui:FindFirstChild(guiName) then CoreGui[guiName]:Destroy() end
if Players.LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild(guiName) then Players.LocalPlayer.PlayerGui[guiName]:Destroy() end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = guiName
screenGui.IgnoreGuiInset = true
screenGui.DisplayOrder = 10000
screenGui.ResetOnSpawn = false
pcall(function() screenGui.Parent = CoreGui end)
if not screenGui.Parent then screenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui") end

local function queueAutoLoad()
    if syn and syn.queue_on_teleport then
        syn.queue_on_teleport('loadstring(game:HttpGet("https://raw.githubusercontent.com/Maplixx/B/refs/heads/main/Farm"))()')
    elseif queue_on_teleport then
        queue_on_teleport('loadstring(game:HttpGet("https://raw.githubusercontent.com/Maplixx/B/refs/heads/main/Farm"))()')
    end
end
Players.LocalPlayer.OnTeleport:Connect(queueAutoLoad)

local function makeDraggable(clickObject, moveObject)
    local dragging, dragInput, dragStart, startPos
    clickObject.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = moveObject.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then dragging = false end
            end)
        end
    end)
    clickObject.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then dragInput = input end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            moveObject.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

local function addStroke(obj)
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(255, 0, 0)
    stroke.Thickness = 1.5
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Parent = obj
    return stroke
end

local notifFrame = Instance.new("Frame")
notifFrame.Name = "Notification"
notifFrame.Size = UDim2.new(0, 320, 0, 50)
notifFrame.Position = UDim2.new(0.5, -160, 0.8, 0)
notifFrame.BackgroundColor3 = Color3.new(0, 0, 0)
notifFrame.BorderSizePixel = 0
notifFrame.Visible = false
notifFrame.ZIndex = 300
notifFrame.Parent = screenGui
Instance.new("UICorner", notifFrame).CornerRadius = UDim.new(0, 8)
addStroke(notifFrame)

local notifText = Instance.new("TextLabel")
notifText.Size = UDim2.new(1, 0, 1, 0)
notifText.BackgroundTransparency = 1
notifText.Text = "LINK COPIADO, BASTA COLAR NO NAVEGADOR"
notifText.TextColor3 = Color3.new(1, 1, 1)
notifText.Font = Enum.Font.GothamBold
notifText.TextSize = 12
notifText.TextWrapped = true
notifText.ZIndex = 301
notifText.Parent = notifFrame

local function showToast(msg)
    notifText.Text = msg or "LINK COPIADO, BASTA COLAR NO NAVEGADOR"
    notifFrame.BackgroundTransparency = 0
    notifText.TextTransparency = 0
    notifFrame.Visible = true
    task.wait(1.5)
    local t1 = TweenService:Create(notifFrame, TweenInfo.new(1), {BackgroundTransparency = 1})
    local t2 = TweenService:Create(notifText, TweenInfo.new(1), {TextTransparency = 1})
    t1:Play(); t2:Play()
    t1.Completed:Connect(function() notifFrame.Visible = false end)
end

local overlay = Instance.new("Frame")
overlay.Name = "BlackOverlay"
overlay.Size = UDim2.new(1, 0, 1, 0)
overlay.BackgroundColor3 = Color3.new(0, 0, 0)
overlay.BackgroundTransparency = 1 
overlay.Visible = false
overlay.ZIndex = 100
overlay.Active = true
overlay.Parent = screenGui

local countdownLabel = Instance.new("TextLabel")
countdownLabel.Size = UDim2.new(1, 0, 1, 0)
countdownLabel.BackgroundTransparency = 1
countdownLabel.TextColor3 = Color3.new(1, 1, 1)
countdownLabel.TextSize = 100
countdownLabel.Font = Enum.Font.GothamBold
countdownLabel.Text = ""
countdownLabel.ZIndex = 101
countdownLabel.Parent = overlay

local instructionLabel = Instance.new("TextLabel")
instructionLabel.Size = UDim2.new(1, 0, 0.2, 0)
instructionLabel.Position = UDim2.new(0, 0, 0.4, 0)
instructionLabel.BackgroundTransparency = 1
instructionLabel.TextColor3 = Color3.new(1, 1, 1)
instructionLabel.TextSize = 16
instructionLabel.Font = Enum.Font.GothamBold
instructionLabel.Text = "PARA SAIR BASTA DAR 2 TOQUES"
instructionLabel.TextTransparency = 1
instructionLabel.ZIndex = 101
instructionLabel.Parent = overlay

local unlockButton = Instance.new("TextButton")
unlockButton.Size = UDim2.new(1, 0, 1, 0)
unlockButton.BackgroundTransparency = 1
unlockButton.Text = ""
unlockButton.ZIndex = 102
unlockButton.Parent = overlay

local minIcon = Instance.new("TextButton")
minIcon.Name = "MinimizedIcon"
minIcon.Size = UDim2.new(0, 0, 0, 0)
minIcon.Position = UDim2.new(0.9, -60, 0.1, 0)
minIcon.BackgroundColor3 = Color3.new(0, 0, 0)
minIcon.Text = "S"
minIcon.TextColor3 = Color3.fromRGB(255, 0, 0)
minIcon.TextSize = 30
minIcon.Font = Enum.Font.GothamBold
minIcon.Visible = false
minIcon.TextTransparency = 1
minIcon.ZIndex = 200
minIcon.Parent = screenGui
Instance.new("UICorner", minIcon).CornerRadius = UDim.new(1, 0)
addStroke(minIcon)
makeDraggable(minIcon, minIcon)

local keyFrame = Instance.new("Frame")
keyFrame.Name = "KeyFrame"
keyFrame.Size = UDim2.new(0, 300, 0, 200)
keyFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
keyFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
keyFrame.BorderSizePixel = 0
keyFrame.Visible = true
keyFrame.Parent = screenGui
Instance.new("UICorner", keyFrame).CornerRadius = UDim.new(0, 15)
addStroke(keyFrame)

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300, 0, 310)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -155)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.BorderSizePixel = 0
mainFrame.Visible = false 
mainFrame.Parent = screenGui
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 15)
addStroke(mainFrame)

local currentMenu = keyFrame 

local function setupCommonElements(frame, titleText)
    local confirmGroup = Instance.new("Frame")
    confirmGroup.Name = "ConfirmGroup"
    confirmGroup.Size = UDim2.new(1, 0, 1, 0)
    confirmGroup.BackgroundTransparency = 1
    confirmGroup.Visible = false
    confirmGroup.ZIndex = 50
    confirmGroup.Parent = frame

    local confirmText = Instance.new("TextLabel")
    confirmText.Text = "Deseja Realmente Sair?"
    confirmText.Size = UDim2.new(1, 0, 0.4, 0)
    confirmText.Position = UDim2.new(0, 0, 0.1, 0)
    confirmText.BackgroundTransparency = 1
    confirmText.TextColor3 = Color3.new(1, 1, 1)
    confirmText.Font = Enum.Font.GothamBold
    confirmText.TextSize = 18
    confirmText.TextTransparency = 1
    confirmText.Parent = confirmGroup

    local btnSim = Instance.new("TextButton")
    btnSim.Name = "Sim"
    btnSim.Text = "Sim"
    btnSim.Size = UDim2.new(0.4, 0, 0, 40)
    btnSim.Position = UDim2.new(0.07, 0, 0.6, 0)
    btnSim.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    btnSim.TextColor3 = Color3.new(1, 1, 1)
    btnSim.Font = Enum.Font.GothamBold
    btnSim.TextSize = 16
    btnSim.BackgroundTransparency = 1
    btnSim.TextTransparency = 1
    btnSim.Parent = confirmGroup
    Instance.new("UICorner", btnSim).CornerRadius = UDim.new(0, 8)
    addStroke(btnSim)

    local btnNao = Instance.new("TextButton")
    btnNao.Name = "Não"
    btnNao.Text = "Não"
    btnNao.Size = UDim2.new(0.4, 0, 0, 40)
    btnNao.Position = UDim2.new(0.53, 0, 0.6, 0)
    btnNao.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    btnNao.TextColor3 = Color3.new(1, 1, 1)
    btnNao.Font = Enum.Font.GothamBold
    btnNao.TextSize = 16
    btnNao.BackgroundTransparency = 1
    btnNao.TextTransparency = 1
    btnNao.Parent = confirmGroup
    Instance.new("UICorner", btnNao).CornerRadius = UDim.new(0, 8)
    addStroke(btnNao)

    local contentGroup = Instance.new("Frame")
    contentGroup.Name = "ContentGroup"
    contentGroup.Size = UDim2.new(1, 0, 1, 0)
    contentGroup.BackgroundTransparency = 1
    contentGroup.Parent = frame

    local dragHandle = Instance.new("TextButton")
    dragHandle.Name = "DragHandle"
    dragHandle.Size = UDim2.new(0, 40, 0, 40)
    dragHandle.Position = UDim2.new(1, -40, 1, -40)
    dragHandle.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    dragHandle.Text = "✥"
    dragHandle.TextColor3 = Color3.new(1, 1, 1)
    dragHandle.TextSize = 20
    dragHandle.Parent = contentGroup
    local dragCorner = Instance.new("UICorner")
    dragCorner.CornerRadius = UDim.new(0, 10)
    dragCorner.Parent = dragHandle
    addStroke(dragHandle)
    makeDraggable(dragHandle, frame)

    local title = Instance.new("TextLabel")
    title.Text = titleText
    title.Size = UDim2.new(1, -80, 0, 40)
    title.Position = UDim2.new(0, 40, 0, 0)
    title.BackgroundTransparency = 1
    title.TextColor3 = Color3.new(1, 1, 1)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 18
    title.Parent = contentGroup

    local closeBtn = Instance.new("TextButton")
    closeBtn.Text = "X"
    closeBtn.Size = UDim2.new(0, 30, 0, 30)
    closeBtn.Position = UDim2.new(1, -35, 0, 5)
    closeBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    closeBtn.TextColor3 = Color3.new(1, 1, 1)
    closeBtn.Parent = contentGroup
    Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 8)
    addStroke(closeBtn)

    local minBtn = Instance.new("TextButton")
    minBtn.Text = "_"
    minBtn.Size = UDim2.new(0, 30, 0, 30)
    minBtn.Position = UDim2.new(1, -70, 0, 5)
    minBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    minBtn.TextColor3 = Color3.new(1, 1, 1)
    minBtn.Parent = contentGroup
    Instance.new("UICorner", minBtn).CornerRadius = UDim.new(0, 8)
    addStroke(minBtn)

    local function fadeGroup(group, transparency, time)
        for _, child in pairs(group:GetChildren()) do
            if child:IsA("GuiObject") then
                TweenService:Create(child, TweenInfo.new(time), {BackgroundTransparency = child:IsA("TextButton") and (transparency == 0 and (child.Name == "Sim" and 0 or (child.Name == "Não" and 0 or 1)) or 1) or 1}):Play()
                if child:IsA("TextLabel") or child:IsA("TextButton") or child:IsA("TextBox") then
                    TweenService:Create(child, TweenInfo.new(time), {TextTransparency = transparency}):Play()
                end
                if child:FindFirstChild("UIStroke") then
                    TweenService:Create(child.UIStroke, TweenInfo.new(time), {Transparency = transparency}):Play()
                end
            end
        end
    end

    local savedPos = frame.Position
    local savedSize = frame.Size
    local isAnimating = false

    closeBtn.MouseButton1Click:Connect(function()
        if isAnimating then return end
        isAnimating = true
        savedPos = frame.Position
        fadeGroup(contentGroup, 1, 0.3)
        task.wait(0.3)
        contentGroup.Visible = false
        local centerPos = UDim2.new(0.5, -125, 0.5, -75)
        local confirmSize = UDim2.new(0, 250, 0, 150)
        local tPos = TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Position = centerPos, Size = confirmSize})
        tPos:Play()
        tPos.Completed:Wait()
        confirmGroup.Visible = true
        TweenService:Create(confirmText, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
        TweenService:Create(btnSim, TweenInfo.new(0.5), {BackgroundTransparency = 0, TextTransparency = 0}):Play()
        TweenService:Create(btnNao, TweenInfo.new(0.5), {BackgroundTransparency = 0, TextTransparency = 0}):Play()
        TweenService:Create(btnSim.UIStroke, TweenInfo.new(0.5), {Transparency = 0}):Play()
        TweenService:Create(btnNao.UIStroke, TweenInfo.new(0.5), {Transparency = 0}):Play()
        isAnimating = false
    end)

    btnNao.MouseButton1Click:Connect(function()
        if isAnimating then return end
        isAnimating = true
        fadeGroup(confirmGroup, 1, 0.3)
        task.wait(0.3)
        confirmGroup.Visible = false
        local tBack = TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Position = savedPos, Size = savedSize})
        tBack:Play()
        tBack.Completed:Wait()
        contentGroup.Visible = true
        fadeGroup(contentGroup, 0, 0.3)
        title.BackgroundTransparency = 1
        isAnimating = false
    end)

    btnSim.MouseButton1Click:Connect(function()
        local tShrink = TweenService:Create(frame, TweenInfo.new(1, Enum.EasingStyle.Exponential), {Size = UDim2.new(0,0,0,0)})
        tShrink:Play()
        fadeGroup(confirmGroup, 1, 0.5)
        tShrink.Completed:Wait()
        screenGui:Destroy()
    end)

    minBtn.MouseButton1Click:Connect(function()
        if isAnimating then return end
        isAnimating = true
        currentMenu = frame
        savedPos = frame.Position
        TweenService:Create(frame, TweenInfo.new(0.1), {Size = UDim2.new(frame.Size.X.Scale, frame.Size.X.Offset + 10, frame.Size.Y.Scale, frame.Size.Y.Offset + 10)}):Play()
        task.wait(0.1)
        fadeGroup(contentGroup, 1, 0.2)
        local tShrink = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Size = UDim2.new(0,0,0,0)})
        tShrink:Play()
        tShrink.Completed:Wait()
        frame.Visible = false
        minIcon.Visible = true
        minIcon.Position = UDim2.new(savedPos.X.Scale, savedPos.X.Offset + 125, savedPos.Y.Scale, savedPos.Y.Offset + 100)
        local tGrow = TweenService:Create(minIcon, TweenInfo.new(0.4, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out), {Size = UDim2.new(0,50,0,50)})
        tGrow:Play()
        TweenService:Create(minIcon, TweenInfo.new(0.4), {TextTransparency = 0}):Play()
        isAnimating = false
    end)
    return contentGroup
end

local keyContent = setupCommonElements(keyFrame, "Key System - Amoled Saver")
local mainContent = setupCommonElements(mainFrame, "Amoled And Oled Save")

local keyInput = Instance.new("TextBox")
keyInput.Size = UDim2.new(0.9, 0, 0, 45)
keyInput.Position = UDim2.new(0.05, 0, 0.25, 0)
keyInput.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
keyInput.TextColor3 = Color3.new(1, 1, 1)
keyInput.PlaceholderText = "Cole sua Key aqui..."
keyInput.Font = Enum.Font.Gotham
keyInput.TextSize = 14
keyInput.Parent = keyContent
Instance.new("UICorner", keyInput).CornerRadius = UDim.new(0, 8)
addStroke(keyInput)

local copyLinkBtn = Instance.new("TextButton")
copyLinkBtn.Text = "Copiar Link"
copyLinkBtn.Size = UDim2.new(0.42, 0, 0, 40)
copyLinkBtn.Position = UDim2.new(0.05, 0, 0.6, 0)
copyLinkBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
copyLinkBtn.TextColor3 = Color3.new(1, 1, 1)
copyLinkBtn.Font = Enum.Font.GothamBold
copyLinkBtn.TextSize = 14
copyLinkBtn.Parent = keyContent
Instance.new("UICorner", copyLinkBtn).CornerRadius = UDim.new(0, 8)
addStroke(copyLinkBtn)

local checkBtn = Instance.new("TextButton")
checkBtn.Text = "Checar"
checkBtn.Size = UDim2.new(0.42, 0, 0, 40)
checkBtn.Position = UDim2.new(0.53, 0, 0.6, 0)
checkBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
checkBtn.TextColor3 = Color3.new(1, 1, 1)
checkBtn.Font = Enum.Font.GothamBold
checkBtn.TextSize = 14
checkBtn.Parent = keyContent
Instance.new("UICorner", checkBtn).CornerRadius = UDim.new(0, 8)
addStroke(checkBtn)

local progressBarBg = Instance.new("Frame")
progressBarBg.Size = UDim2.new(0.9, 0, 0, 6)
progressBarBg.Position = UDim2.new(0.05, 0, 0.9, 0)
progressBarBg.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
progressBarBg.BorderSizePixel = 0
progressBarBg.Visible = false
progressBarBg.Parent = keyContent
Instance.new("UICorner", progressBarBg).CornerRadius = UDim.new(1, 0)

local progressBar = Instance.new("Frame")
progressBar.Size = UDim2.new(0, 0, 1, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
progressBar.BorderSizePixel = 0
progressBar.Parent = progressBarBg
Instance.new("UICorner", progressBar).CornerRadius = UDim.new(1, 0)

copyLinkBtn.MouseButton1Click:Connect(function()
    setclipboard(LinkKeyEncurtador)
    showToast("LINK DO ENCURTADOR COPIADO!")
end)

checkBtn.MouseButton1Click:Connect(function()
    checkBtn.Text = "..."
    checkBtn.Active = false
    
    local expandedSize = UDim2.new(0, 300, 0, 240)
    TweenService:Create(keyFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quart), {Size = expandedSize}):Play()
    task.wait(0.3)
    progressBarBg.Visible = true
    progressBar.Size = UDim2.new(0,0,1,0)
    TweenService:Create(progressBar, TweenInfo.new(1.5, Enum.EasingStyle.Linear), {Size = UDim2.new(1,0,1,0)}):Play()
    task.wait(1.5)
    
    local success, onlineKey = pcall(function()
        return game:HttpGet(UrlKeyGithub):gsub("^%s*(.-)%s*$", "%1")
    end)
    local userKey = keyInput.Text:gsub("^%s*(.-)%s*$", "%1")
    
    if success and userKey == onlineKey then
        showToast("KEY CORRETA! ABRINDO...")
        task.wait(1)
        keyFrame.Visible = false
        mainFrame.Visible = true
        currentMenu = mainFrame
    else
        showToast("KEY INCORRETA OU ERRO!")
        TweenService:Create(keyFrame, TweenInfo.new(0.5), {Size = UDim2.new(0, 300, 0, 200)}):Play()
        progressBarBg.Visible = false
    end
    checkBtn.Text = "Checar"
    checkBtn.Active = true
end)

local footer = Instance.new("TextLabel")
footer.Text = "made by Seven"
footer.Size = UDim2.new(1, 0, 0, 20)
footer.Position = UDim2.new(0, 0, 1, -25)
footer.BackgroundTransparency = 1
footer.TextColor3 = Color3.fromRGB(0, 255, 255)
footer.Font = Enum.Font.Gotham
footer.TextSize = 12
footer.Parent = mainContent

local versionLabel = Instance.new("TextLabel")
versionLabel.Text = "Versão: " .. ScriptVersion
versionLabel.Size = UDim2.new(1, 0, 0, 20)
versionLabel.Position = UDim2.new(0, 0, 0.82, 0)
versionLabel.BackgroundTransparency = 1
versionLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
versionLabel.Font = Enum.Font.GothamBold
versionLabel.TextSize = 12
versionLabel.Parent = mainContent

local activateBtn = Instance.new("TextButton")
activateBtn.Text = "(Ativar)"
activateBtn.Size = UDim2.new(0.9, 0, 0, 40)
activateBtn.Position = UDim2.new(0.05, 0, 0.18, 0)
activateBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
activateBtn.TextColor3 = Color3.new(1, 1, 1)
activateBtn.Font = Enum.Font.GothamBold
activateBtn.TextSize = 14
activateBtn.Parent = mainContent
Instance.new("UICorner", activateBtn).CornerRadius = UDim.new(0, 8)
addStroke(activateBtn)

local function createSocialBtn(text, color, pos, url)
    local btn = Instance.new("TextButton")
    btn.Text = text
    btn.Size = UDim2.new(0.9, 0, 0, 35)
    btn.Position = pos
    btn.BackgroundColor3 = color
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = mainContent
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)
    addStroke(btn)
    btn.MouseButton1Click:Connect(function()
        setclipboard(url)
        showToast()
    end)
end

createSocialBtn("TikTok", Color3.fromRGB(0, 0, 0), UDim2.new(0.05, 0, 0.38, 0), LinkTikTok)
createSocialBtn("Youtube", Color3.fromRGB(255, 0, 0), UDim2.new(0.05, 0, 0.53, 0), LinkYoutube)
createSocialBtn("Instagram", Color3.fromRGB(193, 53, 132), UDim2.new(0.05, 0, 0.68, 0), LinkInstagram)

local taps = 0
local isLocked = false

minIcon.MouseButton1Click:Connect(function()
    local safePos = UDim2.new(0.9, -60, 0.5, -25)
    local tMove = TweenService:Create(minIcon, TweenInfo.new(0.6, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Position = safePos})
    tMove:Play()
    tMove.Completed:Wait()

    local tShrink = TweenService:Create(minIcon, TweenInfo.new(0.2), {Size = UDim2.new(0,0,0,0)})
    tShrink:Play()
    tShrink.Completed:Wait()
    minIcon.Visible = false
    
    currentMenu.Visible = true
    currentMenu.Size = UDim2.new(0,0,0,0)
    
    local targetSize = (currentMenu == keyFrame) and UDim2.new(0, 300, 0, 200) or UDim2.new(0, 300, 0, 310)
    local tGrow = TweenService:Create(currentMenu, TweenInfo.new(0.5, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out), {Size = targetSize})
    tGrow:Play()
    
    if currentMenu:FindFirstChild("ContentGroup") then
        local cg = currentMenu.ContentGroup
        cg.Visible = true
        for _, child in pairs(cg:GetChildren()) do
            if child:IsA("GuiObject") then
                TweenService:Create(child, TweenInfo.new(0.5), {BackgroundTransparency = (child:IsA("TextButton") and 1 or 1)}):Play()
                if child:IsA("TextLabel") or child:IsA("TextButton") or child:IsA("TextBox") then
                   TweenService:Create(child, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
                end
                if child.Name == "DragHandle" or child.Name == "Sim" or child.Name == "Não" then
                    TweenService:Create(child, TweenInfo.new(0.5), {BackgroundTransparency = 0}):Play()
                end
                if child:FindFirstChild("UIStroke") then
                    TweenService:Create(child.UIStroke, TweenInfo.new(0.5), {Transparency = 0}):Play()
                end
            end
        end
        if currentMenu == mainContent.Parent then
           footer.BackgroundTransparency = 1
           versionLabel.BackgroundTransparency = 1
        end
    end
end)

local function activateAmoled()
    mainFrame.Visible = false
    minIcon.Visible = false
    overlay.Visible = true
    overlay.BackgroundTransparency = 1
    taps = 0
    isLocked = false
    countdownLabel.Visible = true
    for i = 3, 1, -1 do
        countdownLabel.Text = tostring(i)
        task.wait(1)
    end
    countdownLabel.Text = ""
    countdownLabel.Visible = false
    local t = TweenService:Create(overlay, TweenInfo.new(1), {BackgroundTransparency = 0})
    t:Play()
    t.Completed:Wait()
    instructionLabel.TextTransparency = 0
    task.wait(2)
    TweenService:Create(instructionLabel, TweenInfo.new(1), {TextTransparency = 1}):Play()
    taps = 0
    isLocked = true
end

local function deactivateAmoled()
    isLocked = false
    local t = TweenService:Create(overlay, TweenInfo.new(1), {BackgroundTransparency = 1})
    t:Play()
    t.Completed:Connect(function()
        overlay.Visible = false
        taps = 0
        mainFrame.Visible = true
    end)
end

activateBtn.MouseButton1Click:Connect(activateAmoled)
unlockButton.MouseButton1Click:Connect(function()
    if isLocked then
        taps = taps + 1
        if taps >= 2 then deactivateAmoled() end
    end
end)
