local ScriptVersion = "1.7"
local UrlKeyGithub = "https://raw.githubusercontent.com/Maplixx/B/refs/heads/main/key.txt"
local UrlOldKeysGithub = "https://raw.githubusercontent.com/Maplixx/B/refs/heads/main/oldkeys.txt"
local LinkKeyEncurtador = "https://fir3.net/KeyAmoledHub"
local LinkTikTok = "https://www.tiktok.com/@.rnyzx"
local LinkYoutube = "https://youtube.com/@s3venzzx"
local LinkInstagram = "https://www.instagram.com/yz.seven"

local MsgKeyVazia = "POR FAVOR, DIGITE UMA KEY"
local MsgKeyValida = "ACESSO PERMITIDO"
local MsgKeyExpirada = "KEY EXPIRADA! PEGUE A NOVA"
local MsgKeyInvalida = "KEY INVÁLIDA"
local MsgLinkCopiado = "LINK COPIADO!"
local MsgBemVindo = "BEM-VINDO DE VOLTA"

local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local UserSettings = UserSettings()

local guiName = "AmoledScreenSaverPro"
local fileName = "AmoledKey_Cache.txt"

if CoreGui:FindFirstChild(guiName) then CoreGui[guiName]:Destroy() end
if Players.LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild(guiName) then Players.LocalPlayer.PlayerGui[guiName]:Destroy() end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = guiName
screenGui.IgnoreGuiInset = true
screenGui.DisplayOrder = 10000
screenGui.ResetOnSpawn = false
pcall(function() screenGui.Parent = CoreGui end)
if not screenGui.Parent then screenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui") end

local function queueAutoLoad()
    if syn and syn.queue_on_teleport then
        syn.queue_on_teleport('loadstring(game:HttpGet("https://raw.githubusercontent.com/Maplixx/B/refs/heads/main/Farm"))()')
    elseif queue_on_teleport then
        queue_on_teleport('loadstring(game:HttpGet("https://raw.githubusercontent.com/Maplixx/B/refs/heads/main/Farm"))()')
    end
end
Players.LocalPlayer.OnTeleport:Connect(queueAutoLoad)

local function makeDraggable(clickObject, moveObject)
    local dragging, dragInput, dragStart, startPos
    clickObject.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = moveObject.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then dragging = false end
            end)
        end
    end)
    clickObject.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then dragInput = input end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            moveObject.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

local function createGradientStroke(parent)
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(255, 255, 255)
    stroke.Thickness = 2
    stroke.Transparency = 0.2
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Parent = parent
    
    local grad = Instance.new("UIGradient")
    grad.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 100, 100)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 0, 0))
    }
    grad.Rotation = 45
    grad.Parent = stroke
    
    task.spawn(function()
        while stroke.Parent do
            local t = TweenService:Create(grad, TweenInfo.new(2, Enum.EasingStyle.Linear), {Rotation = grad.Rotation + 360})
            t:Play()
            t.Completed:Wait()
        end
    end)
    return stroke
end

local function styleButton(btn, color)
    btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    btn.BackgroundTransparency = 0.2
    btn.BorderSizePixel = 0
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.GothamBold
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
    
    local stroke = Instance.new("UIStroke")
    stroke.Color = color
    stroke.Thickness = 1.5
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Transparency = 0.3
    stroke.Parent = btn
end

local function animateClick(btn)
    if not btn then return end
    local originalSize = btn.Size
    local shrinkSize = UDim2.new(originalSize.X.Scale * 0.95, originalSize.X.Offset, originalSize.Y.Scale * 0.95, originalSize.Y.Offset)
    
    local t1 = TweenService:Create(btn, TweenInfo.new(0.05), {Size = shrinkSize})
    t1:Play()
    t1.Completed:Wait()
    
    local t2 = TweenService:Create(btn, TweenInfo.new(0.05), {Size = originalSize})
    t2:Play()
end

local notifFrame = Instance.new("Frame")
notifFrame.Name = "Notification"
notifFrame.Size = UDim2.new(0, 320, 0, 50)
notifFrame.Position = UDim2.new(0.5, -160, 0.1, 0)
notifFrame.BackgroundColor3 = Color3.new(0, 0, 0)
notifFrame.BackgroundTransparency = 0.2
notifFrame.BorderSizePixel = 0
notifFrame.Visible = false
notifFrame.ZIndex = 300
notifFrame.Parent = screenGui
Instance.new("UICorner", notifFrame).CornerRadius = UDim.new(0, 16)
createGradientStroke(notifFrame)

local notifText = Instance.new("TextLabel")
notifText.Size = UDim2.new(1, 0, 1, 0)
notifText.BackgroundTransparency = 1
notifText.Text = ""
notifText.TextColor3 = Color3.new(1, 1, 1)
notifText.Font = Enum.Font.GothamBold
notifText.TextSize = 12
notifText.TextWrapped = true
notifText.ZIndex = 301
notifText.Parent = notifFrame

local function showToast(msg)
    notifText.Text = msg
    notifFrame.Visible = true
    notifFrame.Position = UDim2.new(0.5, -160, 0.05, 0)
    notifFrame.BackgroundTransparency = 1
    notifText.TextTransparency = 1
    
    local t1 = TweenService:Create(notifFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quart), {Position = UDim2.new(0.5, -160, 0.1, 0), BackgroundTransparency = 0.2})
    local t2 = TweenService:Create(notifText, TweenInfo.new(0.5), {TextTransparency = 0})
    t1:Play(); t2:Play()
    
    task.wait(2.5)
    
    local t3 = TweenService:Create(notifFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quart), {Position = UDim2.new(0.5, -160, 0.05, 0), BackgroundTransparency = 1})
    local t4 = TweenService:Create(notifText, TweenInfo.new(0.5), {TextTransparency = 1})
    t3:Play(); t4:Play()
    t3.Completed:Connect(function() notifFrame.Visible = false end)
end

local overlay = Instance.new("Frame")
overlay.Name = "BlackOverlay"
overlay.Size = UDim2.new(1, 0, 1, 0)
overlay.BackgroundColor3 = Color3.new(0, 0, 0)
overlay.BackgroundTransparency = 1 
overlay.Visible = false
overlay.ZIndex = 100
overlay.Active = false
overlay.Parent = screenGui

local countdownLabel = Instance.new("TextLabel")
countdownLabel.Size = UDim2.new(1, 0, 1, 0)
countdownLabel.BackgroundTransparency = 1
countdownLabel.TextColor3 = Color3.new(1, 1, 1)
countdownLabel.TextSize = 100
countdownLabel.Font = Enum.Font.GothamBold
countdownLabel.Text = ""
countdownLabel.ZIndex = 101
countdownLabel.Parent = overlay

local instructionLabel = Instance.new("TextLabel")
instructionLabel.Size = UDim2.new(1, 0, 0.2, 0)
instructionLabel.Position = UDim2.new(0, 0, 0.4, 0)
instructionLabel.BackgroundTransparency = 1
instructionLabel.TextColor3 = Color3.new(1, 1, 1)
instructionLabel.TextSize = 16
instructionLabel.Font = Enum.Font.GothamBold
instructionLabel.Text = "PARA SAIR BASTA DAR 2 TOQUES"
instructionLabel.TextTransparency = 1
instructionLabel.ZIndex = 101
instructionLabel.Parent = overlay

local unlockButton = Instance.new("TextButton")
unlockButton.Size = UDim2.new(1, 0, 1, 0)
unlockButton.BackgroundTransparency = 1
unlockButton.Text = ""
unlockButton.ZIndex = 102
unlockButton.Parent = overlay

local showMenuBtn = Instance.new("TextButton")
showMenuBtn.Name = "ShowMenuBtn"
showMenuBtn.Size = UDim2.new(0, 0, 0, 0)
showMenuBtn.Position = UDim2.new(0.5, -25, 0.05, 0)
showMenuBtn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
showMenuBtn.BackgroundTransparency = 0.2
showMenuBtn.Text = "V"
showMenuBtn.TextColor3 = Color3.fromRGB(255, 50, 50)
showMenuBtn.TextSize = 20
showMenuBtn.Font = Enum.Font.GothamBold
showMenuBtn.Visible = false
showMenuBtn.TextTransparency = 1
showMenuBtn.ZIndex = 200
showMenuBtn.Parent = screenGui
Instance.new("UICorner", showMenuBtn).CornerRadius = UDim.new(1, 0)
createGradientStroke(showMenuBtn)

local keyFrame = Instance.new("Frame")
keyFrame.Name = "KeyFrame"
keyFrame.Size = UDim2.new(0, 320, 0, 240)
keyFrame.Position = UDim2.new(0.5, -160, 0.5, -120)
keyFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
keyFrame.BackgroundTransparency = 0.2
keyFrame.BorderSizePixel = 0
keyFrame.Visible = true
keyFrame.Parent = screenGui
Instance.new("UICorner", keyFrame).CornerRadius = UDim.new(0, 20)
createGradientStroke(keyFrame)

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 320, 0, 420)
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -210)
mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
mainFrame.BackgroundTransparency = 0.2
mainFrame.BorderSizePixel = 0
mainFrame.Visible = false 
mainFrame.Parent = screenGui
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 20)
createGradientStroke(mainFrame)

local currentMenu = keyFrame
local isAnimating = false

local function setupCommonElements(frame, titleText)
    local confirmGroup = Instance.new("Frame")
    confirmGroup.Name = "ConfirmGroup"
    confirmGroup.Size = UDim2.new(1, 0, 1, 0)
    confirmGroup.BackgroundTransparency = 1
    confirmGroup.Visible = false
    confirmGroup.ZIndex = 50
    confirmGroup.Parent = frame

    local confirmText = Instance.new("TextLabel")
    confirmText.Text = "Deseja Realmente Sair?"
    confirmText.Size = UDim2.new(1, 0, 0.4, 0)
    confirmText.Position = UDim2.new(0, 0, 0.1, 0)
    confirmText.BackgroundTransparency = 1
    confirmText.TextColor3 = Color3.new(1, 1, 1)
    confirmText.Font = Enum.Font.GothamBold
    confirmText.TextSize = 18
    confirmText.TextTransparency = 1
    confirmText.Parent = confirmGroup

    local btnSim = Instance.new("TextButton")
    btnSim.Text = "Sim"
    btnSim.Size = UDim2.new(0.42, 0, 0, 45)
    btnSim.Position = UDim2.new(0.05, 0, 0.6, 0)
    styleButton(btnSim, Color3.fromRGB(200, 50, 50))
    btnSim.Parent = confirmGroup
    btnSim.BackgroundTransparency = 1
    btnSim.TextTransparency = 1

    local btnNao = Instance.new("TextButton")
    btnNao.Text = "Não"
    btnNao.Size = UDim2.new(0.42, 0, 0, 45)
    btnNao.Position = UDim2.new(0.53, 0, 0.6, 0)
    styleButton(btnNao, Color3.fromRGB(200, 50, 50))
    btnNao.Parent = confirmGroup
    btnNao.BackgroundTransparency = 1
    btnNao.TextTransparency = 1

    local contentGroup = Instance.new("Frame")
    contentGroup.Name = "ContentGroup"
    contentGroup.Size = UDim2.new(1, 0, 1, 0)
    contentGroup.BackgroundTransparency = 1
    contentGroup.Parent = frame

    local title = Instance.new("TextLabel")
    title.Text = titleText
    title.Size = UDim2.new(1, 0, 0, 50)
    title.Position = UDim2.new(0, 0, 0, 0)
    title.BackgroundTransparency = 1
    title.TextColor3 = Color3.new(1, 1, 1)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 20
    title.Parent = contentGroup

    local closeBtn = Instance.new("TextButton")
    closeBtn.Text = "X"
    closeBtn.Size = UDim2.new(0, 32, 0, 32)
    closeBtn.Position = UDim2.new(1, -40, 0, 10)
    styleButton(closeBtn, Color3.fromRGB(255, 50, 50))
    closeBtn.Parent = contentGroup

    local minBtn = Instance.new("TextButton")
    minBtn.Text = "_"
    minBtn.Size = UDim2.new(0, 32, 0, 32)
    minBtn.Position = UDim2.new(1, -80, 0, 10)
    styleButton(minBtn, Color3.fromRGB(150, 150, 150))
    minBtn.Parent = contentGroup

    local function fadeGroup(group, transparency, time)
        for _, child in pairs(group:GetChildren()) do
            if child:IsA("GuiObject") then
                local targetTrans = transparency
                if child:IsA("TextButton") and transparency == 0 then targetTrans = 0.2 end 
                TweenService:Create(child, TweenInfo.new(time), {BackgroundTransparency = targetTrans}):Play()
                
                if child:IsA("TextLabel") or child:IsA("TextButton") or child:IsA("TextBox") then
                    TweenService:Create(child, TweenInfo.new(time), {TextTransparency = transparency}):Play()
                end
                if child:FindFirstChild("UIStroke") then
                     TweenService:Create(child.UIStroke, TweenInfo.new(time), {Transparency = (transparency == 1 and 1 or 0.3)}):Play()
                end
            end
        end
    end

    closeBtn.MouseButton1Click:Connect(function()
        if isAnimating then return end
        isAnimating = true
        animateClick(closeBtn)
        fadeGroup(contentGroup, 1, 0.3)
        task.wait(0.3)
        contentGroup.Visible = false
        
        TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Size = UDim2.new(0, 280, 0, 150)}):Play()
        task.wait(0.5)
        
        confirmGroup.Visible = true
        TweenService:Create(confirmText, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
        fadeGroup(confirmGroup, 0, 0.5)
        isAnimating = false
    end)

    btnNao.MouseButton1Click:Connect(function()
        if isAnimating then return end
        isAnimating = true
        animateClick(btnNao)
        fadeGroup(confirmGroup, 1, 0.3)
        task.wait(0.3)
        confirmGroup.Visible = false
        
        local restoreSize = (frame == keyFrame) and UDim2.new(0, 320, 0, 240) or UDim2.new(0, 320, 0, 420)
        TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Size = restoreSize}):Play()
        task.wait(0.5)
        
        contentGroup.Visible = true
        fadeGroup(contentGroup, 0, 0.3)
        isAnimating = false
    end)

    btnSim.MouseButton1Click:Connect(function()
        animateClick(btnSim)
        local tShrink = TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Back), {Size = UDim2.new(0,0,0,0)})
        tShrink:Play()
        fadeGroup(confirmGroup, 1, 0.3)
        tShrink.Completed:Wait()
        screenGui:Destroy()
    end)

    minBtn.MouseButton1Click:Connect(function()
        if isAnimating then return end
        isAnimating = true
        animateClick(minBtn)
        currentMenu = frame
        
        local downPos = UDim2.new(0.5, -160, 1.2, 0)
        local tDown = TweenService:Create(frame, TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Position = downPos})
        tDown:Play()
        
        showMenuBtn.Visible = true
        showMenuBtn.Size = UDim2.new(0,0,0,0)
        local tBtn = TweenService:Create(showMenuBtn, TweenInfo.new(0.8, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out), {Size = UDim2.new(0, 50, 0, 50)})
        tBtn:Play()
        TweenService:Create(showMenuBtn, TweenInfo.new(0.5), {TextTransparency = 0, BackgroundTransparency = 0.2}):Play()
        TweenService:Create(showMenuBtn.UIStroke, TweenInfo.new(0.5), {Transparency = 0.3}):Play()
        
        task.wait(0.8)
        frame.Visible = false
        isAnimating = false
    end)
    return contentGroup
end

local keyContent = setupCommonElements(keyFrame, "Login")
local mainContent = setupCommonElements(mainFrame, "Amoled Saver")

local warningLabel = Instance.new("TextLabel")
warningLabel.Text = ""
warningLabel.Size = UDim2.new(1, 0, 0, 20)
warningLabel.Position = UDim2.new(0, 0, 0.18, 0)
warningLabel.BackgroundTransparency = 1
warningLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
warningLabel.Font = Enum.Font.GothamBold
warningLabel.TextSize = 12
warningLabel.Parent = keyContent

local keyInput = Instance.new("TextBox")
keyInput.Size = UDim2.new(0.9, 0, 0, 45)
keyInput.Position = UDim2.new(0.05, 0, 0.3, 0)
keyInput.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
keyInput.BackgroundTransparency = 0.5
keyInput.TextColor3 = Color3.new(1, 1, 1)
keyInput.PlaceholderText = "Insira sua Key..."
keyInput.Text = ""
keyInput.Font = Enum.Font.Gotham
keyInput.TextSize = 14
keyInput.Parent = keyContent
Instance.new("UICorner", keyInput).CornerRadius = UDim.new(0, 10)
local keyStroke = Instance.new("UIStroke")
keyStroke.Color = Color3.fromRGB(255, 50, 50)
keyStroke.Transparency = 0.5
keyStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
keyStroke.Parent = keyInput

local copyLinkBtn = Instance.new("TextButton")
copyLinkBtn.Text = "Obter Key"
copyLinkBtn.Size = UDim2.new(0.42, 0, 0, 45)
copyLinkBtn.Position = UDim2.new(0.05, 0, 0.6, 0)
styleButton(copyLinkBtn, Color3.fromRGB(0, 255, 100))
copyLinkBtn.Parent = keyContent

local checkBtn = Instance.new("TextButton")
checkBtn.Text = "Entrar"
checkBtn.Size = UDim2.new(0.42, 0, 0, 45)
checkBtn.Position = UDim2.new(0.53, 0, 0.6, 0)
styleButton(checkBtn, Color3.fromRGB(50, 150, 255))
checkBtn.Parent = keyContent

local progressBarBg = Instance.new("Frame")
progressBarBg.Size = UDim2.new(0.9, 0, 0, 4)
progressBarBg.Position = UDim2.new(0.05, 0, 0.85, 0)
progressBarBg.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
progressBarBg.BackgroundTransparency = 0.5
progressBarBg.BorderSizePixel = 0
progressBarBg.Visible = false
progressBarBg.Parent = keyContent
Instance.new("UICorner", progressBarBg).CornerRadius = UDim.new(1, 0)

local progressBar = Instance.new("Frame")
progressBar.Size = UDim2.new(0, 0, 1, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
progressBar.BorderSizePixel = 0
progressBar.Parent = progressBarBg
Instance.new("UICorner", progressBar).CornerRadius = UDim.new(1, 0)

local function animateLoading()
    checkBtn.Text = "..."
    checkBtn.Active = false
    progressBarBg.Visible = true
    progressBar.Size = UDim2.new(0,0,1,0)
    TweenService:Create(progressBar, TweenInfo.new(1.5, Enum.EasingStyle.Linear), {Size = UDim2.new(1,0,1,0)}):Play()
    task.wait(1.5)
    checkBtn.Text = "Entrar"
    checkBtn.Active = true
    progressBarBg.Visible = false
end

local function checkKeyStatus(keyStr)
    if not keyStr or keyStr:gsub(" ", "") == "" then
        return "empty"
    end

    local successCurrent, onlineKey = pcall(function()
        return game:HttpGet(UrlKeyGithub):gsub("^%s*(.-)%s*$", "%1")
    end)
    
    if successCurrent and keyStr == onlineKey then
        return "valid"
    end
    
    local successOld, oldKeysRaw = pcall(function()
        return game:HttpGet(UrlOldKeysGithub)
    end)
    
    if successOld then
        for oldKey in oldKeysRaw:gmatch("[^\r\n]+") do
            if oldKey:gsub("^%s*(.-)%s*$", "%1") == keyStr then
                return "expired"
            end
        end
    end

    return "invalid"
end

copyLinkBtn.MouseButton1Click:Connect(function()
    animateClick(copyLinkBtn)
    setclipboard(LinkKeyEncurtador)
    showToast(MsgLinkCopiado)
end)

checkBtn.MouseButton1Click:Connect(function()
    animateClick(checkBtn)
    local userKey = keyInput.Text:gsub("^%s*(.-)%s*$", "%1")
    
    if userKey == "" then
        showToast(MsgKeyVazia)
        warningLabel.Text = MsgKeyVazia
        return
    end

    animateLoading()
    local status = checkKeyStatus(userKey)
    
    if status == "valid" then
        if writefile then writefile(fileName, userKey) end
        showToast(MsgKeyValida)
        task.wait(0.5)
        keyFrame.Visible = false
        mainFrame.Visible = true
        currentMenu = mainFrame
    elseif status == "expired" then
        showToast(MsgKeyExpirada)
        warningLabel.Text = MsgKeyExpirada
    elseif status == "invalid" then
        showToast(MsgKeyInvalida)
        warningLabel.Text = MsgKeyInvalida
    elseif status == "empty" then
        showToast(MsgKeyVazia)
    end
end)

local footer = Instance.new("TextLabel")
footer.Text = "made by Seven"
footer.Size = UDim2.new(1, 0, 0, 20)
footer.Position = UDim2.new(0, 0, 1, -25)
footer.BackgroundTransparency = 1
footer.TextColor3 = Color3.fromRGB(0, 255, 255)
footer.Font = Enum.Font.Gotham
footer.TextSize = 12
footer.Parent = mainContent

local versionLabel = Instance.new("TextLabel")
versionLabel.Text = "Versão: " .. ScriptVersion
versionLabel.Size = UDim2.new(1, 0, 0, 20)
versionLabel.Position = UDim2.new(0, 0, 0.88, 0)
versionLabel.BackgroundTransparency = 1
versionLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
versionLabel.Font = Enum.Font.GothamBold
versionLabel.TextSize = 12
versionLabel.Parent = mainContent

local activateBtn = Instance.new("TextButton")
activateBtn.Text = "( Ativar )"
activateBtn.Size = UDim2.new(0.9, 0, 0, 50)
activateBtn.Position = UDim2.new(0.05, 0, 0.15, 0)
styleButton(activateBtn, Color3.fromRGB(255, 50, 50))
activateBtn.Parent = mainContent

local isMuted = false
local savedVolume = 1
local muteBtn = Instance.new("TextButton")
muteBtn.Text = "Mutar Jogo"
muteBtn.Size = UDim2.new(0.42, 0, 0, 45)
muteBtn.Position = UDim2.new(0.05, 0, 0.3, 0)
styleButton(muteBtn, Color3.fromRGB(255, 150, 0))
muteBtn.Parent = mainContent

muteBtn.MouseButton1Click:Connect(function()
    animateClick(muteBtn)
    if not isMuted then
        savedVolume = UserSettings.GameSettings.MasterVolume
        UserSettings.GameSettings.MasterVolume = 0
        muteBtn.Text = "Desmutar"
        muteBtn.UIStroke.Color = Color3.fromRGB(255, 0, 0)
        showToast("SOM DESATIVADO")
        isMuted = true
    else
        UserSettings.GameSettings.MasterVolume = savedVolume
        muteBtn.Text = "Mutar Jogo"
        muteBtn.UIStroke.Color = Color3.fromRGB(255, 150, 0)
        showToast("SOM ATIVADO")
        isMuted = false
    end
end)

local fpsBtn = Instance.new("TextButton")
fpsBtn.Text = "FPS Boost"
fpsBtn.Size = UDim2.new(0.42, 0, 0, 45)
fpsBtn.Position = UDim2.new(0.53, 0, 0.3, 0)
styleButton(fpsBtn, Color3.fromRGB(100, 50, 255))
fpsBtn.Parent = mainContent

fpsBtn.MouseButton1Click:Connect(function()
    animateClick(fpsBtn)
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Optiz-FpsBooster-60070"))()
    showToast("FPS BOOST ATIVO")
end)

local function createSocialBtn(text, color, pos, url)
    local btn = Instance.new("TextButton")
    btn.Text = text
    btn.Size = UDim2.new(0.9, 0, 0, 40)
    btn.Position = pos
    styleButton(btn, color)
    btn.Parent = mainContent
    btn.MouseButton1Click:Connect(function()
        animateClick(btn)
        setclipboard(url)
        showToast(MsgLinkCopiado)
    end)
end

createSocialBtn("TikTok", Color3.fromRGB(255, 255, 255), UDim2.new(0.05, 0, 0.45, 0), LinkTikTok)
createSocialBtn("Youtube", Color3.fromRGB(255, 0, 0), UDim2.new(0.05, 0, 0.57, 0), LinkYoutube)
createSocialBtn("Instagram", Color3.fromRGB(200, 50, 200), UDim2.new(0.05, 0, 0.69, 0), LinkInstagram)

local taps = 0
local isLocked = false

showMenuBtn.MouseButton1Click:Connect(function()
    if isAnimating then return end
    isAnimating = true
    animateClick(showMenuBtn)
    
    local tShrink = TweenService:Create(showMenuBtn, TweenInfo.new(0.3), {Size = UDim2.new(0,0,0,0)})
    tShrink:Play()
    tShrink.Completed:Wait()
    showMenuBtn.Visible = false
    
    currentMenu.Visible = true
    currentMenu.Position = UDim2.new(0.5, -160, 1.2, 0)
    
    local endPos = (currentMenu == keyFrame) and UDim2.new(0.5, -160, 0.5, -120) or UDim2.new(0.5, -160, 0.5, -210)
    
    local tUp = TweenService:Create(currentMenu, TweenInfo.new(0.8, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Position = endPos})
    tUp:Play()
    
    task.wait(0.8)
    isAnimating = false
end)

local function activateAmoled()
    mainFrame.Visible = false
    showMenuBtn.Visible = false
    overlay.Visible = true
    overlay.Active = true
    overlay.BackgroundTransparency = 1
    taps = 0
    isLocked = false
    countdownLabel.Visible = true
    for i = 3, 1, -1 do
        countdownLabel.Text = tostring(i)
        task.wait(1)
    end
    countdownLabel.Text = ""
    countdownLabel.Visible = false
    local t = TweenService:Create(overlay, TweenInfo.new(1), {BackgroundTransparency = 0})
    t:Play()
    t.Completed:Wait()
    instructionLabel.TextTransparency = 0
    task.wait(2)
    TweenService:Create(instructionLabel, TweenInfo.new(1), {TextTransparency = 1}):Play()
    taps = 0
    isLocked = true
end

local function deactivateAmoled()
    isLocked = false
    local t = TweenService:Create(overlay, TweenInfo.new(1), {BackgroundTransparency = 1})
    t:Play()
    t.Completed:Connect(function()
        overlay.Visible = false
        overlay.Active = false
        taps = 0
        mainFrame.Visible = true
    end)
end

activateBtn.MouseButton1Click:Connect(function()
    animateClick(activateBtn)
    activateAmoled()
end)

unlockButton.MouseButton1Click:Connect(function()
    if isLocked then
        taps = taps + 1
        if taps >= 2 then deactivateAmoled() end
    end
end)

task.spawn(function()
    if readfile and isfile and isfile(fileName) then
        local savedKey = readfile(fileName)
        animateLoading() 
        local status = checkKeyStatus(savedKey)
        if status == "valid" then
            showToast(MsgBemVindo)
            keyFrame.Visible = false
            mainFrame.Visible = true
            currentMenu = mainFrame
        elseif status == "expired" then
             warningLabel.Text = MsgKeyExpirada
             if delfile then delfile(fileName) end
        end
    end
end)
